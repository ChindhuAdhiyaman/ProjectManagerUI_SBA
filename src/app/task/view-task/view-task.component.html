<div class="user-container">

  <br>
  <form [formGroup]="viewForm">

    <div class="modal fade" id="projectsearch" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-body">
            <input list="projectName" name="projectName" [(ngModel)]="searchText" formControlName="projectName">
            <datalist id="projectName">
              <option *ngFor="let task of tasks">
                {{task.projectName}}
              </option>
            </datalist>
          </div>
        </div>

      </div>
    </div>

    <div class="form-group row">

      <div class="col-md-4">
        <input type="text" formControlName="projectName" placeholder="Project Name" name="projectName"
          class="form-control" id="search" [(ngModel)]="searchText" autocomplete="off">
      </div>
      <div class="col-md-1">
        <a href="" class="btn btn-default btn-rounded mb-4" data-toggle="modal" data-target="#projectsearch">Search</a>

      </div>

      <div class="col-md-1">
        <label class="control-label col col-sm-3" for="Sort">Sort Task By:</label>
      </div>
      <div class="col-md-1">
        <button type="submit" class="btn btn-info btn-sm" (click)="sortByStartDate()" style="margin-right: 40px;">
          StartDate</button>
      </div>
      <div class="col-md-1">
        <button type="submit" class="btn btn-info btn-sm" (click)="sortByEndDate()" style="margin-right: 40px;">
          EndDate</button>
      </div>
      <div class="col-md-1">
        <button type="submit" class="btn btn-info btn-sm" (click)="sortByPriority()" style="margin-right: 40px;">
          Priority</button>
      </div>
      <div class="col-md-1">
        <button type="submit" class="btn btn-info btn-sm" (click)="sortByStatus()" style="margin-right: 40px;">
          Completed</button>
      </div>

    </div>
    <br>
    <table border="1" class="table table-striped">
      <thead>
        <tr>
          <th>Task Name</th>
          <th>Parent Task Name</th>
          <th>Priority</th>
          <th>Start Date</th>
          <th>End Date</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>

        <tr *ngFor="let task of tasks | filter:searchText">
          <td> <textarea rows="2">{{task.taskName}}</textarea></td>
          <td><textarea rows="2">{{task.parentTaskName}}</textarea> </td>
          <td> <output>{{task.priority}}</output></td>
          <td> <output>{{task.startDate}}</output></td>
          <td><output>{{task.endDate}}</output></td>
          <td>
            <button type="submit" class="btn btn-info btn-sm" (click)="editTask(task)" [disabled]="isOld(task.endDate)"
              style="margin-left: 20px;"> Edit</button>
            <button type="submit" class="btn btn-info btn-sm" (click)="endTask(task)" [disabled]="isOld(task.endDate)">
              End Task</button>
          </td>
        </tr>
      </tbody>
    </table>
  </form><br />
</div>